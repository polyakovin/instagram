{"ast":null,"code":"var _jsxFileName = \"/Users/andrey/Downloads/instagram/src/Home.js\";\nimport React, { Component } from 'react';\nimport Preview from './Preview.js';\nimport photos from './photos.json';\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      photos\n    };\n  }\n\n  addLike(i) {\n    const photos = this.state.photos;\n    photos[i].likesAmount++;\n    photos[i].isLiked = true;\n    this.setState({\n      photos\n    }, () => localStorage.setItem('photo', JSON.stringify(this.state)));\n  }\n\n  removeLike(i) {\n    const photos = this.state.photos;\n    photos[i].likesAmount--;\n    photos[i].isLiked = false;\n    this.setState({\n      photos\n    }, () => localStorage.setItem('photo', JSON.stringify(this.state)));\n  }\n\n  pressLike(i) {\n    if (this.state.photos[i].isLiked) {\n      this.removeLike(i);\n    } else {\n      this.addLike(i);\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"App-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, this.state.photos.map((photo, i) => React.createElement(Preview, {\n      addLike: this.pressLike.bind(this, i),\n      photo: photo,\n      key: Date.now() + \"_\" + i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0435\\u0449\\u0435\"));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  counter: state.counter\n});\n\nconst mapDispatchToProps = dispatch => ({\n  increment(value) {\n    dispatch(increment());\n  },\n\n  zero(value) {\n    dispatch(zero());\n  },\n\n  decrement(value) {\n    dispatch(decrement());\n  }\n\n});\n\nconst Like = connect(mapStateToProps, mapDispatchToProps)(LikeComponent);\nexport default Home;","map":{"version":3,"sources":["/Users/andrey/Downloads/instagram/src/Home.js"],"names":["React","Component","Preview","photos","Home","state","addLike","i","likesAmount","isLiked","setState","localStorage","setItem","JSON","stringify","removeLike","pressLike","render","map","photo","bind","Date","now","mapStateToProps","counter","mapDispatchToProps","dispatch","increment","value","zero","decrement","Like","connect","LikeComponent"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,MAAP,MAAmB,eAAnB;;AAEA,MAAMC,IAAN,SAAmBH,SAAnB,CAA6B;AAAA;AAAA;AAAA,SAC3BI,KAD2B,GACrB;AACJF,MAAAA;AADI,KADqB;AAAA;;AAK3BG,EAAAA,OAAO,CAACC,CAAD,EAAG;AAAA,UACAJ,MADA,GACW,KAAKE,KADhB,CACAF,MADA;AAERA,IAAAA,MAAM,CAACI,CAAD,CAAN,CAAUC,WAAV;AACAL,IAAAA,MAAM,CAACI,CAAD,CAAN,CAAUE,OAAV,GAAoB,IAApB;AACA,SAAKC,QAAL,CAAc;AAAEP,MAAAA;AAAF,KAAd,EACE,MAAMQ,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAe,KAAKT,KAApB,CAA9B,CADR;AAED;;AAEDU,EAAAA,UAAU,CAACR,CAAD,EAAG;AAAA,UACHJ,MADG,GACQ,KAAKE,KADb,CACHF,MADG;AAEXA,IAAAA,MAAM,CAACI,CAAD,CAAN,CAAUC,WAAV;AACAL,IAAAA,MAAM,CAACI,CAAD,CAAN,CAAUE,OAAV,GAAoB,KAApB;AACA,SAAKC,QAAL,CAAc;AAAEP,MAAAA;AAAF,KAAd,EACE,MAAMQ,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAe,KAAKT,KAApB,CAA9B,CADR;AAED;;AAEDW,EAAAA,SAAS,CAACT,CAAD,EAAG;AACV,QAAG,KAAKF,KAAL,CAAWF,MAAX,CAAkBI,CAAlB,EAAqBE,OAAxB,EAAgC;AAC9B,WAAKM,UAAL,CAAgBR,CAAhB;AACD,KAFD,MAEO;AACL,WAAKD,OAAL,CAAaC,CAAb;AACD;AACF;;AAEDU,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKZ,KAAL,CAAWF,MAAX,CAAkBe,GAAlB,CAAsB,CAACC,KAAD,EAAQZ,CAAR,KAAY,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAE,KAAKS,SAAL,CAAeI,IAAf,CAAoB,IAApB,EAA2Bb,CAA3B,CAAlB;AAAkD,MAAA,KAAK,EAAEY,KAAzD;AAAgE,MAAA,GAAG,EAAEE,IAAI,CAACC,GAAL,KAAa,GAAb,GAAmBf,CAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlC,CADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mFAJF,CADF;AAUD;;AAxC0B;;AA4C7B,MAAMgB,eAAe,GAAGlB,KAAK,KAAK;AAChCmB,EAAAA,OAAO,EAAEnB,KAAK,CAACmB;AADiB,CAAL,CAA7B;;AAIA,MAAMC,kBAAkB,GAAGC,QAAQ,KAAK;AACtCC,EAAAA,SAAS,CAACC,KAAD,EAAQ;AAACF,IAAAA,QAAQ,CAACC,SAAS,EAAV,CAAR;AAAsB,GADF;;AAEtCE,EAAAA,IAAI,CAACD,KAAD,EAAQ;AAACF,IAAAA,QAAQ,CAACG,IAAI,EAAL,CAAR;AAAiB,GAFQ;;AAGtCC,EAAAA,SAAS,CAACF,KAAD,EAAQ;AAACF,IAAAA,QAAQ,CAACI,SAAS,EAAV,CAAR;AAAsB;;AAHF,CAAL,CAAnC;;AAMA,MAAMC,IAAI,GAAGC,OAAO,CAACT,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CQ,aAA7C,CAAb;AAEA,eAAe7B,IAAf","sourcesContent":["import React, {Component} from 'react';\nimport Preview from './Preview.js';\nimport photos from './photos.json';\n\nclass Home extends Component {\n  state={\n    photos \n  }\n\n  addLike(i){\n    const { photos } = this.state;\n    photos[i].likesAmount++;\n    photos[i].isLiked = true;\n    this.setState({ photos },\n      () => localStorage.setItem('photo', JSON.stringify(this.state)));\n  }\n\n  removeLike(i){\n    const { photos } = this.state;\n    photos[i].likesAmount--;\n    photos[i].isLiked = false;\n    this.setState({ photos },\n      () => localStorage.setItem('photo', JSON.stringify(this.state)));\n  }\n\n  pressLike(i){\n    if(this.state.photos[i].isLiked){\n      this.removeLike(i);\n    } else {\n      this.addLike(i);\n    }\n  }\n\n  render() { \n    return (\n      <div className=\"home\">\n        <header className=\"App-header\">\n         {this.state.photos.map((photo, i)=><Preview addLike={this.pressLike.bind(this , i )} photo={photo} key={Date.now() + \"_\" + i} />)}\n        </header>\n        <button>\n          Загрузить еще\n        </button>\n    </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  counter: state.counter\n});\n\nconst mapDispatchToProps = dispatch => ({\n  increment(value) {dispatch(increment())},\n  zero(value) {dispatch(zero())},\n  decrement(value) {dispatch(decrement())},\n});\n\nconst Like = connect(mapStateToProps, mapDispatchToProps)(LikeComponent);\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}