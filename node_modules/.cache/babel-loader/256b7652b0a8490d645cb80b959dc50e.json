{"ast":null,"code":"var _jsxFileName = \"/Users/andrey/Downloads/instagram/src/Home.js\";\nimport React, { Component } from 'react';\nimport Preview from './Preview.js';\nimport photos from './photos.json';\nimport { connect } from 'react-redux';\n\nclass HomeComponent extends Component {\n  addLike(i) {\n    console.log(this.props.photos[i]);\n    this.props.addLike(i); // const { photos } = this.state;\n    // photos[i].likesAmount++;\n    // photos[i].isLiked = true;\n    // this.setState({ photos },\n    //   () => localStorage.setItem('photo', JSON.stringify(this.state)));\n  }\n\n  removeLike(i) {\n    console.log(this.props.photos[i]); // const { photos } = this.state;\n    // photos[i].likesAmount--;\n    // photos[i].isLiked = false;\n    // this.setState({ photos },\n    //   () => localStorage.setItem('photo', JSON.stringify(this.state)));\n  }\n\n  pressLike(i) {\n    if (this.props.photos[i].isLiked) {\n      this.removeLike(i);\n    } else {\n      this.addLike(i);\n    }\n  }\n\n  render() {\n    console.log(this.props);\n    return React.createElement(\"div\", {\n      className: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"App-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, this.props.photos.map((photo, i) => React.createElement(Preview, {\n      addLike: this.pressLike.bind(this, i),\n      photo: photo,\n      key: Date.now() + \"_\" + i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0435\\u0449\\u0435\"));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  photos: state.photos\n});\n\nconst mapDispatchToProps = dispatch => ({\n  addLike(i) {\n    dispatch(addLike(i));\n  }\n\n});\n\nconst Home = connect(mapStateToProps, mapDispatchToProps)(HomeComponent);\nexport default Home;","map":{"version":3,"sources":["/Users/andrey/Downloads/instagram/src/Home.js"],"names":["React","Component","Preview","photos","connect","HomeComponent","addLike","i","console","log","props","removeLike","pressLike","isLiked","render","map","photo","bind","Date","now","mapStateToProps","state","mapDispatchToProps","dispatch","Home"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,SAAQC,OAAR,QAAsB,aAAtB;;AAEA,MAAMC,aAAN,SAA4BJ,SAA5B,CAAsC;AAEpCK,EAAAA,OAAO,CAACC,CAAD,EAAG;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWP,MAAX,CAAkBI,CAAlB,CAAZ;AACA,SAAKG,KAAL,CAAWJ,OAAX,CAAmBC,CAAnB,EAFQ,CAGR;AACA;AACA;AACA;AACA;AACD;;AAEDI,EAAAA,UAAU,CAACJ,CAAD,EAAG;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWP,MAAX,CAAkBI,CAAlB,CAAZ,EADU,CAEX;AACA;AACA;AACA;AACA;AACD;;AAEDK,EAAAA,SAAS,CAACL,CAAD,EAAG;AACV,QAAG,KAAKG,KAAL,CAAWP,MAAX,CAAkBI,CAAlB,EAAqBM,OAAxB,EAAgC;AAC9B,WAAKF,UAAL,CAAgBJ,CAAhB;AACD,KAFD,MAEO;AACL,WAAKD,OAAL,CAAaC,CAAb;AACD;AACF;;AAEDO,EAAAA,MAAM,GAAG;AACPN,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACA,WACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,KAAKA,KAAL,CAAWP,MAAX,CAAkBY,GAAlB,CAAsB,CAACC,KAAD,EAAQT,CAAR,KAAY,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAE,KAAKK,SAAL,CAAeK,IAAf,CAAoB,IAApB,EAA2BV,CAA3B,CAAlB;AAAkD,MAAA,KAAK,EAAES,KAAzD;AAAgE,MAAA,GAAG,EAAEE,IAAI,CAACC,GAAL,KAAa,GAAb,GAAmBZ,CAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlC,CADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mFAJF,CADF;AAUD;;AAzCmC;;AA6CtC,MAAMa,eAAe,GAAGC,KAAK,KAAK;AAChClB,EAAAA,MAAM,EAAEkB,KAAK,CAAClB;AADkB,CAAL,CAA7B;;AAIA,MAAMmB,kBAAkB,GAAGC,QAAQ,KAAK;AACtCjB,EAAAA,OAAO,CAACC,CAAD,EAAI;AAACgB,IAAAA,QAAQ,CAACjB,OAAO,CAACC,CAAD,CAAR,CAAR;AAAqB;;AADK,CAAL,CAAnC;;AAIA,MAAMiB,IAAI,GAAGpB,OAAO,CAACgB,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CjB,aAA7C,CAAb;AAEA,eAAemB,IAAf","sourcesContent":["import React, {Component} from 'react';\nimport Preview from './Preview.js';\nimport photos from './photos.json';\nimport {connect} from 'react-redux';\n\nclass HomeComponent extends Component {\n\n  addLike(i){\n    console.log(this.props.photos[i]);\n    this.props.addLike(i);\n    // const { photos } = this.state;\n    // photos[i].likesAmount++;\n    // photos[i].isLiked = true;\n    // this.setState({ photos },\n    //   () => localStorage.setItem('photo', JSON.stringify(this.state)));\n  }\n\n  removeLike(i){\n     console.log(this.props.photos[i]);\n    // const { photos } = this.state;\n    // photos[i].likesAmount--;\n    // photos[i].isLiked = false;\n    // this.setState({ photos },\n    //   () => localStorage.setItem('photo', JSON.stringify(this.state)));\n  }\n\n  pressLike(i){\n    if(this.props.photos[i].isLiked){\n      this.removeLike(i);\n    } else {\n      this.addLike(i);\n    }\n  }\n\n  render() { \n    console.log(this.props);\n    return (\n      <div className=\"home\">\n        <header className=\"App-header\">\n         {this.props.photos.map((photo, i)=><Preview addLike={this.pressLike.bind(this , i )} photo={photo} key={Date.now() + \"_\" + i} />)}\n        </header>\n        <button>\n          Загрузить еще\n        </button>\n    </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  photos: state.photos\n});\n\nconst mapDispatchToProps = dispatch => ({\n  addLike(i) {dispatch(addLike(i))},\n});\n\nconst Home = connect(mapStateToProps, mapDispatchToProps)(HomeComponent);\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}